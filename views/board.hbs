<!-- Modal delete Comment -->
<div class="modal fade" id="modaldeleteCMT" tabindex="-1" role="dialog" aria-labelledby="modaldeleteCMT"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modaldeleteCMTTitle">Delete Comment</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Do you want to delete this comment?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary btn-delete-cmt" data-dismiss="modal">Remove</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal delete Column -->
<div class="modal fade" id="modaldeleteCol" tabindex="-1" role="dialog" aria-labelledby="modaldeleteCol"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modaldeleteColTitle">Delete Column</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Do you want to delete this column?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary btn-delete-column" data-dismiss="modal">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal delete Card -->
<div class="modal fade" id="modaldeletecard" tabindex="-1" role="dialog" aria-labelledby="modaldeletecard"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modaldeletecardTitle">Delete Card</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Do you want to delete this card?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary btn-delete-card" data-dismiss="modal">Delete</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Add Column -->
<div class="modal fade" id="AddColModal" tabindex="-1" role="dialog" aria-labelledby="AddColModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header justify-content-center mt-3 team-divider">
                <h3 class="modal-titler" id="AddColModalTitle" style="font-weight: bolder;">Add Column</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="text" class="form-control" id="ColName" placeholder="Enter new column name">
                </div>
            </div>
            <div class="modal-footer justify-content-center team-divider">
                <div class="row justify-content-center">
                    <button type="button" class="btn btn-primary okBtn btn-add-new-col"
                        data-dismiss="modal">Add</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>

{{!-- MODAL ADD CARD --}}
<div class="modal fade" id="AddCardModal" tabindex="-1" role="dialog" aria-labelledby="AddCardModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header justify-content-center mt-3 team-divider">
                <h3 class="modal-titler" id="AddCardModalTitle" style="font-weight: bolder;">Add Card</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="text" class="form-control" id="CardName" placeholder="Enter new card name">
                </div>
            </div>
            <div class="modal-footer justify-content-center team-divider">
                <div class="row justify-content-center">
                    <button type="button" class="btn btn-primary okBtn btn-add-new-card"
                        data-dismiss="modal">Add</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="page-heading-board d-flex justify-content-between">
    <h2>{{board_name}}</h2>
    <div class="toast toast-warning-out-of-vote" role="alert" aria-live="assertive" aria-atomic="true"
        data-delay="4000">
        <div class="toast-header">Out of Vote</div>
        <div class="toast-body">You have run out of votes</div>
    </div>
    <div class="toast toast-warning-max-col" role="alert" aria-live="assertive" aria-atomic="true"
        data-delay="4000">
        <div class="toast-header">Max Column</div>
        <div class="toast-body">Only maximum 5 columns per board</div>
    </div>
    <button type="button" class="btn-add-col" data-toggle="modal" data-target="#AddColModal">New column</button>
</div>
<div class="board-body d-flex justify-content-between" total_columns={{total_columns}} max_vote={{max_vote}}
    user_name="{{user.user_name}}" board_id={{board_id}}>
    {{#each columns}}
    <div class="col-retro" column_id ={{this._id}}>
        <div class="d-flex justify-content-between">
            <div class="col-name">{{this.column_name}}</div>
            <i class="fas fa-trash icon-trash btn-open-modal-delete-col" data-toggle="modal" data-target="#modaldeleteCol" column_id ={{this._id}}></i>
        </div>
        <button type="button" class="btn-add-task btn-open-modal-add-card" data-toggle="modal" data-target="#AddCardModal" column_id ={{this._id}}>+</button>

        <div class="drag-task" id="drag-item-{{this._id}}">
            <div class="no-drag">.</div>
            {{#each this.cards}}
            <div class="task-retro" card_id={{this._id}}>
                <div class="d-flex justify-content-between">
                    <div class="task-name">{{this.card_name}}</div>
                    <div class="row mr-3">
                    <i class="fas fa-pen icon-open-comment"></i>
                    <i class="fa fa-times btn-open-modal-delete-card" card_id={{this._id}} data-toggle="modal" data-target="#modaldeletecard"></i>
                    </div>
                </div>
                <div class="d-flex justify-content-between info-card">
                    <div class="task-owner">{{this.card_owner}}</div>
                    <div class="icon-feedback pr-3">
                        {{#if this.like}}
                        <i class="fas fa-thumbs-down mr-3 icon-vote"> {{this.total_vote}}</i>
                        {{else}}
                        <i class="fas fa-thumbs-up mr-3 icon-vote"> {{this.total_vote}}</i>
                        {{/if}}
                        <i class='fas fa-comment-alt icon-comment'> {{this.total_comment}}</i>
                    </div>
                </div>
                <div class="list-cmt">
                    {{#each this.comments}}
                    <div class="comment-box mt-3">
                        <div class="d-flex justify-content-between">
                            <div class="cmt-owner"><b>{{this.comment_owner}}: </b></div>
                            <i class="fa fa-times btn-open-modal-delete-cmt" data-toggle="modal"
                                data-target="#modaldeleteCMT" comment_id={{this._id}}></i>
                        </div>
                        {{this.comment_text}}
                    </div>
                    {{/each}}

                    <div class="input-group pt-3 form-box-cmt" style="padding-left:3%;padding-right:15%">
                        <textarea class="current-user-comment-box form-control" rows="1" style="resize:none"
                            placeholder="Enter your comment..."></textarea>
                        <span class="input-group-addon btn btn-primary btn-add-cmt">Send</span>
                    </div>
                    <div class="icon-close-cmt">
                        <i class="fa fa-sort-up"></i>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>

    </div>
    {{/each}}
</div>